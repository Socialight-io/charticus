"use strict";angular.module("chartsApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("chartsApp").controller("MainCtrl",["$scope","$http",function(a,b){a.load=function(a){b.get("http://api.socialight.io/posts?created_year_g",{params:{token:"gUkmID0zQkXNTwvz7qLdb2BX7H4e5eGf",uid:"70",limit:a}}).success(function(a){new Charts.line(a,{dom:"#line",timeseries:!1,legend:!1,stack:[{key:"count",label:function(a){return a.count+" Posts"},color:"#006699",legend:"Posts"},{key:"likes",label:function(a){return a.likes+" Likes"},color:"#996600",legend:"Comments"},{key:"comments",label:function(a){return a.comments+" Comments"},color:"#FF0099",legend:"Likes"}],sort:function(a,b){return String(a.label.date.substr(0,4))>String(b.label.date.substr(0,4))},axis:{x:{show:!0,label:function(a){return String(a.label.date.substr(0,4))}},y:{show:!1}}});new Charts.bar(a,{dom:"#bar",stack:[{key:"count",label:function(a){return a.value+" Posts"},color:"#006699",legend:"Posts"},{key:"likes",label:function(a){return a.value+" Likes"},color:"#996600",legend:"Comments"},{key:"comments",label:function(a){return a.value+" Comments"},color:"#FF0099",legend:"Likes"}]}),new Charts.column(a,{dom:"#column",stack:[{key:"count",label:function(a){return a.value+" Posts"},color:"#006699",legend:"Posts"},{key:"likes",label:function(a){return a.value+" Likes"},color:"#996600",legend:"Comments"},{key:"comments",label:function(a){return a.value+" Comments"},color:"#FF0099",legend:"Likes"}]}),a=a.map(function(a){return a.color="#"+Math.floor(16777215*Math.random()).toString(16),a}),new Charts.pie(a,{dom:"#pie",radius:.75,innerRadius:.3,stack:[{label:function(a){return a.data.label._id.created.year+": "+a.data.total+" Posts"},key:function(a){return a.label?a.label.count:a.count},color:function(a){return a.data.color}}],margin:{top:0,right:0,bottom:0,left:0}})}),b.get("http://api.socialight.io/posts?date_sd&created_g",{params:{token:"gUkmID0zQkXNTwvz7qLdb2BX7H4e5eGf",uid:"70",created_gt:new Date((new Date).getTime()-2592e6),created_lt:new Date}}).success(function(a){new Charts.line(a,{dom:"#timeline",timeseries:!0,interpolate:"line",sort:function(a,b){return new Date(a.label.date.substr(0,10))-new Date(b.label.date.substr(0,10))},stack:[{key:"count",label:function(a){return a.count+" Posts"},color:"#006699",legend:"Posts"},{key:"likes",label:function(a){return a.likes+" Likes"},color:"#996600",legend:"Comments"},{key:"comments",label:function(a){return a.comments+" Comments"},color:"#FF0099",legend:"Likes"}],axis:{x:{show:!0,label:function(a){return new Date(a.label.date.substr(0,10))}},y:{show:!0}}})})},a.load(3),window.setTimeout(function(){a.load(6)},4e3)}]);