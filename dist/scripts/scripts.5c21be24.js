"use strict";angular.module("chartsApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("chartsApp").controller("MainCtrl",["$scope","$http",function(a,b){var c={};a.load=function(d){b.get("http://api.socialight.io/posts?created_year_g",{params:{token:"gUkmID0zQkXNTwvz7qLdb2BX7H4e5eGf",uid:"70",limit:d}}).success(function(b){var d=function(a){$("body").append("<div class='label-hover'>"+a.label+"</div>"),$(document).mousemove(function(a){$(".label-hover").css({top:a.pageY+"px",left:a.pageX+"px"})})},e=function(){$(".label-hover").remove()};a.chart?c.update(b):c=new Charts.column(b,{dom:"#bar",create:!0,height:300,stack:[{key:"count",label:function(a){return a.count+" Posts"},color:function(){return"#006699"},legend:"Posts",mouseover:d,mouseout:e},{key:"likes",label:function(a){return a.likes+" Likes"},color:function(){return"#996600"},legend:"Comments",mouseover:d,mouseout:e},{key:"comments",label:function(a){return a.comments+" Comments"},color:function(){return"#FF0099"},legend:"Likes",mouseover:d,mouseout:e}],axis:{y:{show:!0},x:{show:!0,label:function(a){return String(a.date.substr(0,4))}}},sort:function(a,b){return a.date.substr(0,4)-b.date.substr(0,4)}})})},$(window).on("resize",function(){c.resize()}),a.load(3),window.setTimeout(function(){a.load(6)},4e3)}]);